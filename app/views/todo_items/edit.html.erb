<%= turbo_frame_tag "modal" do %>
  <div class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    <%= link_to @todo_list, class: "fixed inset-0 bg-black/30 backdrop-blur-sm transition-opacity" do %>
    <% end %>
    <div class="fixed inset-0 z-10 w-screen overflow-y-auto pointer-events-none">
      <div class="flex min-h-full items-center justify-center p-4 text-center">
        <div class="pointer-events-auto relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all w-full max-w-lg">
          <div class="bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4">
            <h3 class="text-base font-semibold leading-6 text-gray-900 mb-4" id="modal-title">Editar Tarefa</h3>
            
            <%= form_with(model: [@todo_list, @todo_item], class: "space-y-4") do |f| %>
              <div>
                <%= f.text_field :content, class: "block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2" %>
              </div>

              <div class="flex gap-4">
                 <%= f.select :priority, TodoItem.priorities.keys.map { |k| [I18n.t("activerecord.enums.todo_item.priority.#{k}"), k] }, {}, class: "block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" %>
                 
                 <%= f.date_field :due_date, class: "block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" %>
              </div>

              <div class="mt-6 flex items-center justify-end gap-x-3 pt-4 border-t border-gray-100">
                <%= link_to "Cancelar", @todo_list, class: "text-sm font-semibold leading-6 text-gray-900 hover:text-gray-700" %>
                <%= f.submit "Salvar AlteraÃ§Ãµes", class: "rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 cursor-pointer" %>
              </div>
            <% end %>

          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>